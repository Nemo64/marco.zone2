<!DOCTYPE html>
<html ⚡ lang="de" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
    <meta charset="utf-8">

    <!-- external resources -->
    <link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    
    <script async custom-element="amp-timeago" src="https://cdn.ampproject.org/v0/amp-timeago-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    

    <!-- fonts -->
    <link rel="preconnect dns-prefetch" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Slab:600|Roboto:300">

    <title>HTML Bilder in Responsive Websites</title>

    <!-- references -->
    <link rel="canonical" href="https://www.marco.zone/html-bilder-in-responsive-websites">
    <link rel="alternate" type="application/rss+xml" title="Marco Zone" href="/feed.xml">

    <!-- favicon/browser configuration -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#cd5c5c">
    <meta name="apple-mobile-web-app-title" content="Marco Zone">
    <meta name="application-name" content="Marco Zone">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <meta name="format-detection" content="telephone=no">

    <!-- normal meta information -->
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","name":"Marco Zone","alternateName":"Die Marco Zone","url":"https://www.marco.zone/","sameAs":"https://twitter.com/TheTrueNemo"}</script>
    <meta name="description" content="Einige Ansätze Bilder in Webseiten zu verwalten, die sich an die Bildschirmgröße anpassen müssen.">
    <meta name="author" content="Marco Pfeiffer">
    <meta name="generator" content="Jekyll v3.8.6">
    <meta name="date" content="Wed, 02 Dec 2015 20:00:00 +0100">
    <meta name="keywords" content="Software-Development, HTML">
    

    <!-- open graph -->
    <meta property="og:title" content="HTML Bilder in Responsive Websites">
    <meta property="og:description" content="Einige Ansätze Bilder in Webseiten zu verwalten, die sich an die Bildschirmgröße anpassen müssen.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.marco.zone/html-bilder-in-responsive-websites">
    <meta property="og:locale" content="de">
    <meta property="og:site_name" content="Marco Zone">
    
    
    <meta property="article:published_time" content="2015-12-02T20:00:00+01:00">
    <meta property="article:modified_time" content="2015-12-02T20:00:00+01:00">
    
    <meta property="article:tag" content="Software-Development">
    <meta property="article:tag" content="HTML">
    

    <!-- twitter card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@TheTrueNemo" />
    <meta name="twitter:creator" content="@TheTrueNemo" />

    <!-- styles -->
    
    <style amp-custom>body{margin:0;background-color:white;font-family:"Roboto", Helvetica, Arial, sans-serif;font-weight:300;line-height:1.5;color:#333;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}@media (prefers-color-scheme: dark){body{background:#221f1d;color:white}}strong,b{font-family:Arial, Helvetica, sans-serif;font-weight:700}pre,code{font-family:"Courier New", monospace;font-size:.9rem;line-height:1.2;letter-spacing:-0.02em}h1,h2,h3,.headline{font-family:"Josefin Slab", "Times New Roman", serif;font-weight:400;line-height:1.1;color:indianred;padding-top:2rem;padding-top:calc(4.1rem - 1.05em);margin:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}.counter-headline{padding-bottom:2rem}h1+h2,h2+h3{margin-top:1rem}h1{font-size:2rem}h2{font-size:1.8rem}h3{font-size:1.5rem}a{color:indianred;text-decoration:none;-webkit-tap-highlight-color:rgba(205,92,92,0.2)}p>a:hover,p>a:focus,li>a:hover,li>a:focus{text-decoration:underline}a:hover{color:orangered}:focus{outline:none;box-shadow:0 0 1px 1px orangered, 0 0 1px orangered inset}::selection{background:rgba(255,69,0,0.2);color:black}::-moz-selection{background:rgba(255,69,0,0.2);color:black}@media screen{.permalink{position:relative;vertical-align:baseline;display:inline-block;width:14px;height:15px;border:.5rem solid transparent;margin:-.5rem 0 -.5rem -.5rem;transition:opacity .2s, transform .2s;opacity:0;transform:translateX(-10%)}h1:hover>.permalink,h2:hover>.permalink,h3:hover>.permalink{opacity:1;transform:translateX(0)}.permalink::before,.permalink::after{content:"";position:absolute;width:5px;height:5px;border:2px solid currentColor;border-radius:50%}.permalink::before{left:5px;bottom:0}.permalink::after{left:0;bottom:6px}}aside,p{margin-top:.5rem;margin-bottom:0}article,aside,footer,header,nav,section,main{display:block}pre{margin:0}.lead{font-family:"Josefin Slab", "Times New Roman", serif;font-size:1.7rem;line-height:2.1rem;margin-top:.3666666667rem;text-align:left;letter-spacing:-.05em}html,body{scroll-behavior:smooth}@media screen and (min-width: 49.75rem) and (min-height: 30rem){body{padding-left:14rem}}amp-img,img{max-width:100%;height:auto}figure>h2,figure>h3{margin-top:1rem}@media screen{div.highlighter-rouge,figure,blockquote{clear:both;padding:1rem;border-color:whitesmoke;border-style:solid;border-width:1px 0;margin:1rem 0;overflow-x:auto}div.highlighter-rouge+div.highlighter-rouge,div.highlighter-rouge+figure,div.highlighter-rouge+blockquote,figure+div.highlighter-rouge,figure+figure,figure+blockquote,blockquote+div.highlighter-rouge,blockquote+figure,blockquote+blockquote{margin-top:-1rem;border-top-width:0}div.highlighter-rouge::-webkit-scrollbar,figure::-webkit-scrollbar,blockquote::-webkit-scrollbar{height:.5rem;margin:-.5rem}div.highlighter-rouge::-webkit-scrollbar-thumb,figure::-webkit-scrollbar-thumb,blockquote::-webkit-scrollbar-thumb{background-color:whitesmoke}}@media screen and (prefers-color-scheme: dark){div.highlighter-rouge,figure,blockquote{border-color:#333333}div.highlighter-rouge::-webkit-scrollbar-thumb,figure::-webkit-scrollbar-thumb,blockquote::-webkit-scrollbar-thumb{background-color:#333333}}@media screen{.page-content>p,.page-content>.fake-paragraph,.page-content>ul,.page-content>ol,.page-content>h1,.page-content>h2,.page-content>h3,.page-content>amp-img,.page-content>noscript>img{box-sizing:border-box;max-width:33.75rem;margin-left:1rem;margin-right:1rem}}@media screen and (max-width: 33.75rem){.page-content>figure>[sizes*="(max-width:33.75rem)100vw"]{display:block;margin:-1rem;max-width:none}}@media screen and (device-pixel-ratio: 2) and (min-width: 35.75rem), screen and (-webkit-device-pixel-ratio: 2) and (min-width: 35.75rem), screen and (min-resolution: 288dpi){.page-content>figure>amp-img[srcset]:not([srcset*="1080w"])>img{image-rendering:-webkit-crisp-edges;image-rendering:-moz-crisp-edges;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor}}blockquote>p{box-sizing:border-box;max-width:32.75rem;margin-left:1rem;margin-right:1rem}blockquote cite{display:block;font-size:0.8em}.tldr-wrapper{max-width:35.75rem;padding-left:1rem;padding-right:1rem}@media print, screen and (min-width: 35.75rem){.tldr-left{width:18rem;clear:left;float:left;margin-right:1rem}.tldr-right{width:18rem;clear:right;float:right;margin-left:1rem}p{text-align:justify}}.highlighter-rouge .c,.highlighter-rouge .c1,.highlighter-rouge .c2,.highlighter-rouge .sd{color:darkgray}.highlighter-rouge .s,.highlighter-rouge .s1,.highlighter-rouge .s2,.highlighter-rouge .k,.highlighter-rouge .nv{color:indianred}.language-yaml .s,.language-yaml .s1,.language-yaml .s2,.language-yaml .nv,.language-yaml .nv{color:inherit}.language-yaml .na{color:indianred}.highlighter-rouge .k+.nv{color:inherit}.highlighter-rouge .gd{background-color:rgba(205,92,92,0.2)}.highlighter-rouge .gi{background-color:rgba(144,238,144,0.2)}.page-header{margin:0 auto}.page-header__logo{display:inline-block;padding:1rem;margin:0;font-size:1.5rem}@media screen and (min-width: 49.75rem) and (min-height: 30rem){.page-header{position:fixed;left:0;top:0;width:14rem;height:100%;padding:1rem 0;box-sizing:border-box;backface-visibility:hidden}.page-header__logo{display:block;float:right;padding:1rem;font-size:2rem}}@media print{.page-header{display:none}}.page-footer{min-height:3rem;margin-top:3rem;padding:1rem 1rem;max-width:33.75rem;font-size:.8em}.page-footer__copyright{display:block;float:left}.page-footer__copyright>span{display:inline-block}.page-footer__nav{display:block;float:right;list-style:none;margin:0;padding:0}.page-footer__nav>li{display:inline-block;margin:0;padding:0}amp-timeago{text-align:left;text-overflow:ellipsis;white-space:nowrap;vertical-align:top}.post__image{position:absolute;left:0;top:0;width:100vw;z-index:-1;opacity:0.1;-webkit-mask:linear-gradient(to bottom, #000 75vw, transparent);mask:linear-gradient(to bottom, #000 75vw, transparent)}@media (min-width: 35.75rem){.post__head{display:flex;align-items:center}.post__image{position:relative;width:10rem;opacity:1;flex-shrink:0;margin:0 0 0 1rem;order:1}.post__image-text{flex-grow:1}}.post__subheadline{color:indianred;margin-top:.1em}.post_lead{clear:both}.post__content>amp-img,.post__content>noscript>img{margin-top:1em;margin-bottom:1em}.post__comments{margin-top:4rem;margin-bottom:4rem;max-width:35.75rem}.author__meta{display:table;margin-top:1rem;margin-bottom:1rem}.author__image,.author__body{display:table-cell;vertical-align:middle}.author__image{width:160px}main aside{margin-top:4rem}.author__image{width:80px;float:left;padding-right:.5rem}.author__image>amp-img,.author__image>noscript>img{border-radius:50%}.author__name{margin:0;padding:0}@media print{.post__comments{display:none}}</style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

</head>
<body>

<header id="page-header" class="page-header">
    <a class="page-header__logo headline" href="/">Marco Zone:</a>
</header>

<main class="post" vocab="http://schema.org/" typeof="BlogPosting" resource="https://www.marco.zone/html-bilder-in-responsive-websites">
    <meta property="mainEntityOfPage" content="https://www.marco.zone/html-bilder-in-responsive-websites">

    <div class="page-content">
        <header class="fake-paragraph post__head">
            
            <div class="post__image-text">
                <h1 class="post__headline" property="headline">
                    HTML Bilder in Responsive Websites&nbsp;<a href="#" class="permalink" title="permalink"></a>
                </h1>

                <p class="post__subheadline counter-headline">
                    published
                    <amp-timeago datetime="2015-12-02T20:00:00+01:00" property="datePublished" cutoff="15768000" width="15em" height="1.5em">
                        02 December 2015
                    </amp-timeago>
                    <meta property="dateModified" content="2015-12-02T20:00:00+01:00">
                </p>
            </div>
        </header>

        <p class="post__lead" property="description">
            Einige Ansätze Bilder in Webseiten zu verwalten, die sich an die Bildschirmgröße anpassen müssen.
        </p>
    </div>

    
    
    
    <nav class="page-content post__index">
        <h2>Table of contents</h2>
        
        <ul>
        
            
            
            
            
            <li><a href="#ein-bild-mit-genauer-größe">Ein Bild mit genauer Größe</a></li>
        
            
            
            
            
            <li><a href="#mehrere-bilder-mit-unterschiedlichen-größen">Mehrere Bilder mit unterschiedlichen Größen</a></li>
        
            
            <ul>
            
            
            <li><a href="#das-srcset-attribut-mit-x-angabe">Das srcset Attribut mit x Angabe</a></li>
        
            
            
            
            
            <li><a href="#das-srcset-attribut-mit-w-angabe">Das srcset Attribut mit w Angabe</a></li>
        
            
            
            
            
            <li><a href="#das-picture-element">Das &lt;picture&gt; Element</a></li>
        
            
            
            </ul>
            
            <li><a href="#schlusswort">Schlusswort</a></li>
        
        </ul>
    </nav>
    

    <div class="page-content post__content" property="articleBody">
        <p>Jeder, der schon einmal eine Webseite für mobile Geräte erstellt hat, kennt das Problem. Bilder sollen überall gut aussehen und man will nicht mehr Bandbreite verwenden als unbedingt notwendig. Die umsetzung dafür war früher ziemlich einfach: man schaut sich das Layout der Seite an, misst wie groß ein Bild in Pixeln sein muss und benutzt eine der vielen Möglichkeiten das Bild auf exakt die Größe zu skalieren.</p>

<h2 id="ein-bild-mit-genauer-größe">Ein Bild mit genauer Größe&nbsp;<a href="#ein-bild-mit-genauer-größe" class="permalink" title="permalink"></a></h2>

<p>Das genaue anpassen der Bilder funktioniert auch heute noch recht gut und benötigt so gut wie keinen Aufwand. Im einfachsten Fall strengen wir unser bevorzugtes Grafik-Programm an das Bild zu skalieren.</p>

<ul>
  <li>Bild wird vom Browser schneller geladen, da der <a href="http://andydavies.me/blog/2013/10/22/how-the-browser-pre-loader-makes-pages-load-faster/">pre-loader</a> sie erkennt.</li>
  <li>einfache Verwaltung: wir brauchen nur ein Bild.</li>
  <li>Sehr einfache Deklaration im Markup.</li>
</ul>

<p>Es wäre aber langweilig wenn es nicht Probleme gäbe:</p>

<ul>
  <li>Es sind nicht genug Bildinformationen für HighDPI Bildschirme vorhanden, wodurch Bilder unscharf wirken im Vergleich zum Text.</li>
  <li>Wenn die Bildgröße abhängig von der Schriftgröße ist (zB. <code class="highlighter-rouge">12rem</code>) wird das Bild uu. leicht skaliert. Das schadet der Qualität mehr als eine stärkere Skalierung.</li>
  <li>Eine variable Größe (zB. <code class="highlighter-rouge">100vw</code>) führt fast immer zu einer Skalierung und somit entweder in einem unscharfen Bild oder zu der Verschwendung von Bandbreite wofür dich Edge-Kinder lieben werden.</li>
  <li>Es ist nicht möglich, das Bild abhängig vom verfügbarem Platz, aus zu tauschen.</li>
</ul>

<p>Dadurch, dass es die einfachste implementierung ist, werden wir vermutlich für immer diese Implementierung sehen. Das heißt aber nicht, dass es nicht bessere gibt.</p>

<h2 id="mehrere-bilder-mit-unterschiedlichen-größen">Mehrere Bilder mit unterschiedlichen Größen&nbsp;<a href="#mehrere-bilder-mit-unterschiedlichen-größen" class="permalink" title="permalink"></a></h2>

<p>Ok, die Anzahl an Möglichkeiten ist überwältigend. Ich habe einen älteren (2012) <a href="https://css-tricks.com/which-responsive-images-solution-should-you-use/">Artikel von CSS-Tricks</a> gefunden der auf viele Wege eingeht. Es gibt auch eine <a href="https://docs.google.com/spreadsheet/ccc?key=0Al0lI17fOl9DdDgxTFVoRzFpV3VCdHk2NTBmdVI2OXc#gid=0">schöne Tabelle</a> mit vielen Techniken die man verwenden kann um die richtigen Bilder aus zu liefern.</p>

<p>Diese Hack-Lösungen interessieren mich allerdings alle nicht! Ich möchte ein zukunftssicheres Markup haben das am besten ohne JavaScript funktioniert. Tja, um meinem Mund zu stopfen bekam ich gleich 3 native Wege dies um zu setzen.</p>

<h3 id="das-srcset-attribut-mit-x-angabe">Das <code class="highlighter-rouge">srcset</code> Attribut mit <code class="highlighter-rouge">x</code> Angabe&nbsp;<a href="#das-srcset-attribut-mit-x-angabe" class="permalink" title="permalink"></a></h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">srcset=</span><span class="s">"image.jpg 1x, image-2.jpg 2x, image-3.jpg 3x"</span>
     <span class="na">alt=</span><span class="s">"Dieses Bild ist immer scharf"</span>
     <span class="na">src=</span><span class="s">"image.jpg"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>Diese Syntax erklärt sich von selbst. Wenn der Browser es unterstützt guckt er sich das srcset Attribut an und wählt anhand der <code class="highlighter-rouge">devicePixelRatio</code> welches Bild er lädt. Wenn der Browser es nicht unterstützt ignoriert er das <code class="highlighter-rouge">srcset</code> und lädt einfach das Bild in der <code class="highlighter-rouge">src</code>.</p>

<ul>
  <li>Das Bild wird vom Browser weiterhin vom pre-loader schnell geladen.</li>
  <li>Das Bild wird auf HiDPI Geräten scharf sein.</li>
  <li>Immer noch relativ einfache Deklaration im Markup.</li>
</ul>

<p>Allerdings bleiben viele der negativen Punkte bestehen:</p>

<ul>
  <li>Bildgröße anhand der Schriftgröße kann weiterhin zu hässlichen Skalierungen führen.</li>
  <li>Es bietet immer noch keine Lösung für 100% breite Banner für responsive Design.</li>
  <li>Es ist nicht möglich, den Bildinhalt abhängig vom verfügbarem Platz aus zu tauschen.</li>
  <li>Wir brauchen nun mehrere Bilder</li>
</ul>

<p>Grundsätzlich haben wir also einen Negativ-Punkt ins Positive gebracht (HiDPI), aber auch einen ins Negative (Verwaltung/Mehrere Bilder). Spoiler: Alle Methoden brauchen mehrere Bilder, daher werden wir diesen Punkt nicht mehr los.</p>

<p>Ich erwähne diesen Weg zuerst, da er den größten <a href="http://caniuse.com/#feat=srcset">Browser-Support</a> hat (ios 8+). Allerdings ist dies fast irrelevant, den die erweiterte <code class="highlighter-rouge">w</code> Version hat nur minimal schlechteren Support (ios 9+).</p>

<p>Noch etwas: Ich würde das <code class="highlighter-rouge">srcset</code> Attribut immer zuerst deklarieren, damit der pre-loader dieses garantiert zuerst sieht. Ich weiß nicht wie gut die heutigen pre-loader sind, aber ich hoffe das ich damit einen unnötigen Anfragen sparen kann. Ob es einen Unterschied macht hab ich allerdings nicht getestet. Sollte jemand mehr wissen: gerne in die Kommentare.</p>

<h3 id="das-srcset-attribut-mit-w-angabe">Das <code class="highlighter-rouge">srcset</code> Attribut mit <code class="highlighter-rouge">w</code> Angabe&nbsp;<a href="#das-srcset-attribut-mit-w-angabe" class="permalink" title="permalink"></a></h3>

<p>Dieses Version hat nur minimal schlechteren <a href="http://caniuse.com/#feat=srcset">Browser-Support</a> als die <code class="highlighter-rouge">x</code> Version. Da jeder, der einen älteren Browser benutzt, die Seite dennoch problemlos sehen kann denke ich nicht, dass das ein Problem ist.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">srcset=</span><span class="s">"banner-720.jpg 720w, banner-1080.jpg 1080w"</span>
     <span class="na">sizes=</span><span class="s">"100vw"</span>
     <span class="na">alt=</span><span class="s">"Dieses Bild wird perfekt ausgewählt"</span>
     <span class="na">src=</span><span class="s">"banner-720.jpg"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>In dieser Version definieren wir, wie breit das Bild in Pixel ist. Der Browser wählt sich dann das Beste aus. Es gibt momentan keine Möglichkeit die Auswahl anhand der Höhe zu treffen.</p>

<p>Der Browser hat nur ein Problem mit diesem Weg. Er muss wissen wie groß das Bild im Layout sein wird. Da aber der Stylesheet meist nicht sofort verfügbar ist, müsste der Browser mit dem laden von dem Bild warten bis er alle CSS-Dateien geladen hat. Daher sieht der Standard ein weites Attribut vor. <code class="highlighter-rouge">sizes</code> definiert wie breit das Bild sein wird. Das heißt: wir müssen leider unser Layout zu einem Teil im Markup verewigen. Bei dem Banner-Beispiel ist dies noch recht einfach, aber es kann schnell kompliziert werden. Für diesem Blog benutze ich momentan für die Thumbnails diese Syntax:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">sizes=</span><span class="s">"(min-width: 48em) 9rem, 3rem"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>Damit sag ich dem Browser, dass die Thumbnails <code class="highlighter-rouge">9rem</code> breit sind solang die Media-Query <code class="highlighter-rouge">(min-width: 48rem)</code> zutrifft. Das Beispiel kann aber beliebig kompliziert werden. Hier ein paar Beispiel für Bilder in Bootstrap:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Bootstrap 3 mit Container-Breite --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">sizes=</span><span class="s">"(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px, 100vw"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- Bootstrap 3 in einer Spalte --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">sizes=</span><span class="s">"(min-width: 1200px) 1140px, (min-width: 992px) 940px, (min-width: 768px) 720px, calc(100vw - 30px)"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- Bootstrap 4 mit Container-Breite --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">sizes=</span><span class="s">"(min-width: 75em) 72.25rem, (min-width: 62em) 60rem, (min-width: 48em) 45rem, (min-width: 34em) 34rem, 100vw"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- Bootstrap 4 in einer Spalte --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">sizes=</span><span class="s">"(min-width: 75em) 70.375rem, (min-width: 62em) 58.125rem, (min-width: 48em) 43.125rem, (min-width: 34em) 32.125rem, calc(100vw - 1.875rem)"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- kleine warnung: ich hab die Angaben nicht getestet --&gt;</span>
</code></pre></div></div>

<p>Wie man sieht ist es möglich <code class="highlighter-rouge">calc()</code> zu verwenden, aber das macht die Angaben leider nur noch Aufwendiger. Wenn wir nun eine Größe in CSS ändern müssen wir auch unser Markup ändern…. unschön.</p>

<p>Aber lohnt es sich?</p>

<ul>
  <li>Das Bild wird vom Browser weiterhin vom pre-loader schnell geladen.</li>
  <li>Das Bild wird auf HiDPI Geräten scharf sein.</li>
  <li>Wir laden auf dem Smartphone nicht mehr unser überdimensioniertes 5120×2160 Banner.</li>
  <li><code class="highlighter-rouge">rem</code> und <code class="highlighter-rouge">em</code> werden beachtet.</li>
</ul>

<p>Somit haben wir nun fast alle negativen Punkte, die für den Nutzer relevant sind, ins Positive gebracht. Also nun das Zähne-Knirschen für die Entwickler:</p>

<ul>
  <li>Wir brauchen immer noch mehrere Bilder von denen wir nun auch noch die Breite im HTML verewigen müssen.</li>
  <li>Die Deklaration kann für komplizierte Layouts sehr Aufwendig werden.</li>
  <li>Es ist weiterhin nicht möglich, den Bildinhalt abhängig vom verfügbarem Platz aus zu tauschen.</li>
</ul>

<p>Dies ist somit, sofern man die Zeit im Projekt hat die Bilder zu organisieren, die beste Möglichkeit <strong>ein</strong> Bild in der best möglichen Größe zu laden. Das einzige, was es nicht löst, ist der austausch von dem Bild unter bestimmten Situationen. Ein kleines Bild sollte uu. einen anderen Ausschnitt zeigen im gegensatz zu einem, das auf dem Desktop in Volbild angezeigt wird. Da wir aber auf modernen Smartphones zum teil eine höhere Auflösung haben als auf einem Desktop können wir die Breite vom Bild nicht verwenden um zwischen verschiedenen Ausschnitten zu wählen.</p>

<h3 id="das-picture-element">Das <code class="highlighter-rouge">&lt;picture&gt;</code> Element&nbsp;<a href="#das-picture-element" class="permalink" title="permalink"></a></h3>

<p>Dieses Element kann nun auch das Problem des Bildinhaltes lösen. Ich werfe einfach direkt ein Beispiel rein:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;picture&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">srcset=</span><span class="s">"desktop-thumbnail-144.jpg 144w, desktop-thumbnail-288.jpg 288w"</span>
            <span class="na">sizes=</span><span class="s">"9rem"</span>
            <span class="na">media=</span><span class="s">"(min-width: 62em)"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">srcset=</span><span class="s">"tablet-thumbnail-128.jpg 128w, tablet-thumbnail-256.jpg 256w"</span>
            <span class="na">sizes=</span><span class="s">"8rem"</span>
            <span class="na">media=</span><span class="s">"(min-width: 48em)"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"dektop-thumbnail-144.jpg"</span>
         <span class="na">srcset=</span><span class="s">"mobile-thumbnail-48.jpg 48w, mobile-thumbnail-96.jpg 96w"</span>
         <span class="na">sizes=</span><span class="s">"3rem"</span>
         <span class="na">alt=</span><span class="s">"Wunderschönes Thumbnail"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/picture&gt;</span>
</code></pre></div></div>

<p>Es ist möglich jeder einzelnen <code class="highlighter-rouge">&lt;source&gt;</code> eine eigene Media-Query zu geben um zu definieren wann diese zu trifft. Der Browser geht die sources in der Definitions-Reihenfolge durch und nimmt sich die Erste die zutrifft, daher fange ich mit dem Größten an. Damit erspare ich mit die merkwürdigen <code class="highlighter-rouge">(max-width: 61.9em)</code> Abfragen um die Bildauswahl in beide Richtungen zu limitieren. In meinen Tests scheint das <code class="highlighter-rouge">&lt;img&gt;</code>-Element auch als source ohne Media-Abfrage zu gelten. Das ist auch deshalb interessant, da das <code class="highlighter-rouge">&lt;picture&gt;</code>-Element einen noch <a href="http://caniuse.com/#feat=picture">schlechteren Browser-Support</a> hat als das <code class="highlighter-rouge">srcset</code>-Attribut.</p>

<p>Diese Variante erlaubt es nun für ein kleines Layout ein anderes Bild zu verwenden, welches zum Beispiel einen kleineren Ausschnitt zeigt. Natürlich sind auch Media-Queries wie print möglich. Es ist allerdings nicht möglich das Bild in bestimmten Layouts überhaupt nicht zu laden. Eine Möglichkeit dafür wäre der klassische transparente Gif-Platzhalter.</p>

<p>Das <code class="highlighter-rouge">&lt;picture&gt;</code> Element hat noch einen weiteren theoretischen Vorteil. Ähnlich wie bei dem <code class="highlighter-rouge">&lt;video&gt;</code> Element kann jeder <code class="highlighter-rouge">&lt;source&gt;</code> ein <code class="highlighter-rouge">type="image/jpeg"</code> gegeben werden. Der Browser lädt dann diese nur, wenn er diesen Typ unterstützt. Mein erster Gedanke ging an SVG, doch jeder Browser, der <code class="highlighter-rouge">&lt;picture&gt;</code> unterstützt, sollte SVG bereits unterstützten. Das Einzige was mir noch einfallen würde ist <a href="https://developers.google.com/speed/webp/">WebP</a>, welches derzeit nur von Blink, also Chrome und Opera (und mobile Varianten) unterstützt wird, aber das Format ist den Aufwand einer weiteren Kodierung nicht wert… außer vielleicht wenn dringend Bandbreite gespart werden muss und eine stärkere JPEG-Kompression nicht in Frage kommt.</p>

<h2 id="schlusswort">Schlusswort&nbsp;<a href="#schlusswort" class="permalink" title="permalink"></a></h2>

<p>Mehrere Bilder in verschiedenen Größen an zu bieten ist eine super Sache um die bestmögliche Erfahrung auf allen Geräten zu bieten und da alle Varianten (die ich gezeigt hab) Rückwärts-Kompatibel sind spricht nichts dagegen diese sofort ein zu setzen. Wenn voller Browser-Support zwingend nötig ist, kann auch mit einem Polyfill wie <a href="https://github.com/scottjehl/picturefill">Picturefill</a> nachgeholfen werden.</p>

<p>Allerdings gibt es den Nachteile der komplizierteren Konfiguration und bei sehr vielen Bildern ist die Dateigröße auf dem Server auch nicht zu vernachlässigen. In meinen Tests ist es häufig schlauer das Bild in einer höheren Auflösung aus zu liefern und dafür eine niedrigere Jpeg-Qualität zu verwenden (zB. 65% anstatt 85%). Die Dateien sind dann meistens nicht viel größer als die low-DPI Variante und auf einem high-DPI Gerät ist der Unterschied kaum sichtbar. Es sieht allerdings immer noch deutlich besser aus, als ein low-DPI Bild auf einem high-DPI Gerät.</p>

<p>Wo es allerdings viel Sinn macht ist bei Bannern oder anderen Bildern, die ihre Größe anhand des Viewports ändern. Dort spielt häufig nicht nur die Datengröße eine Rolle, sondern auch die Skalierung vom Endgerät. Der Safari zum Beispiel erzeugt sehr schnell hässliche Treppen bei einer starken Skalierung und der Chrome erzeugt immer sehr verwaschene Bilder. Dort macht ein <code class="highlighter-rouge">srcset</code> sehr viel Sinn.</p>

<p>Und zuletzt ist für Art-Direction ein <code class="highlighter-rouge">&lt;picture&gt;</code>-Element sehr viel Wert. Allerdings kann in einigen Fällen auch eine CSS-Lösung mit Media-Abfragen sehr gut funktionieren. So eine Lösung benötigt dann auch keinen Polyfill.</p>


    </div>

    <aside class="page-content">
        <div hidden typeof="Organization" property="publisher">
            <meta property="name" content="Marco Zone">
            <div property="logo" typeof="ImageObject">
                <meta property="url" content="https://www.marco.zone/assets/marco-zone-text.png">
                <meta property="width" content="378">
                <meta property="height" content="60">
            </div>
        </div>

        <figure class="post__similar">
            
            
            
            <h2>Similar "Software-Development" posts</h2>
            <ul>
                
                <li><a href="/doctrine-event-guide">Guide to doctrine orm events</a></li>
                
                <li><a href="/shared-aurora-serverless-using-cloudformation">Share an Aurora Serveless between services using CloudFormation</a></li>
                
                <li><a href="/official-docker-php-apache-https">Configure https for the official docker php apache images</a></li>
                
                <li><a href="/configure-symfony-for-serverless-lambda">Configure symfony for a serverless lambda environment in bref</a></li>
                
                <li><a href="/docker-uses-over-100-percent-cpu">Docker for mac uses over 100% cpu while doing nothing</a></li>
                
            </ul>
            
            
            
            
            <h2>Similar "HTML" posts</h2>
            <ul>
                
                <li><a href="/progressiver-html-blocksatz-mit-silbentrennung">Progressiver HTML Blocksatz mit Silbentrennung</a></li>
                
            </ul>
            
            
        </figure>

        
        <figure class="post__author" id="author">
            <h2>Author:</h2>
            <div class="author" property="author" typeof="Person">
                <div class="author__meta">
                    <div class="author__image">
                        <amp-img srcset="/assets/person/marco-desaturate.jpg 160w" width="160" height="160" layout="responsive" sizes="5rem"></amp-img><noscript><img src="/assets/person/marco-desaturate.jpg" alt="" property="image" ></noscript>
                    </div>
                    <div class="author__body">
                        <h3 class="author__name" property="name">Marco Pfeiffer</h3>
                        <div><a href="https://twitter.com/TheTrueNemo">@TheTrueNemo</a></div>
                        <div><a href="https://github.com/Nemo64">github.com/Nemo64</a></div>
                        <div>working for <a href="https://www.hauptsache.net/">hauptsache.net</a></div>
                    </div>
                </div>
            </div>
        </figure>
    </aside>

</main>



<footer id="page-footer" class="page-footer">
    <div class="page-footer__copyright">
        <span>© 2016 – 2022</span>
        <span>Marco Pfeiffer</span>
    </div>
    <ul class="page-footer__nav">
        
        <li><a href="/datenschutzerklaerung" rel="nofollow">Datenschutzerklärung</a></li>
        <li><a href="/impressum" rel="nofollow">Impressum</a></li>
        
    </ul>
</footer>

</body>
</html>
